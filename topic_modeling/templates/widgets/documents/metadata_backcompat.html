{% extends "widgets/base_widget.html" %}
{% comment %}
The Topical Guide
Copyright 2010-2011 Brigham Young University

This file is part of the Topical Guide <http://nlp.cs.byu.edu/topic_browser>.

The Topical Guide is free software: you can redistribute it and/or modify it
under the terms of the GNU Affero General Public License as published by the
Free Software Foundation, either version 3 of the License, or (at your option)
any later version.

The Topical Guide is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License
for more details.

You should have received a copy of the GNU Affero General Public License along
with the Topical Guide.  If not, see <http://www.gnu.org/licenses/>.

If you have inquiries regarding any further use of the Topical Guide, please
contact the Copyright Licensing Office, Brigham Young University, 3760 HBLL,
Provo, UT 84602, (801) 422-9339 or 422-3821, e-mail copyright@byu.edu.
{% endcomment %}

{# A version of the metadata widget that also incorporates any old-style document attributes #}

{% block widget %}
{% if metadataval_mgr.count > 0 or docattrval_mgr.count > 0 %}
    <table class="ui-widget">
        <thead>
            <tr class="ui-widget-header">
                <th class="key">Key</th>
                <th class="value">Value</th>
                <th class="type">Type</th></tr>
        <tbody class="ui-widget-content">
        {% for docattrval in docattrval_mgr.all %}
            <tr>
                <td class="key">{{docattrval.attribute.name}}</td>
                <td class="value">{{docattrval.value.value}}</td>
                <td class="type">text</td>
            </tr>
        {% endfor %}
        {% for metadatavalue in metainfoval_mgr.all %}
            <tr>
                <td class="key">{{metadatavalue.info_type.name}}</td>
                <td class="value">{{metadatavalue.value}}</td>
                <td class="type">{{metadatavalue.type}}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% else %}
    <div class="ui-state-highlight">No metadata found.</div>
{% endif %}
{% endblock %}