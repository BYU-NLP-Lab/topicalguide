{% extends "bootstrap/bootstrap.html" %}

{% block css %}
<link href="/styles/fancy.css" rel="stylesheet">
<link href="/styles/fancyPlot.css" rel="stylesheet">
<link href="/styles/jquery-ui.css" rel="stylesheet">
{% endblock %}

{% block headtitle %}Topic Chord Diagrams{% endblock %}
{% block bodytitle %}Topic Chord Diagrams{% endblock %}
{% block nav-title %}Topical Guide{% endblock %}

{% block container %}
<div id="vis-navbar" class="navbar">
  <div class="navbar-inner">
    <div id="disable-nav"></div>
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <ul class="nav">
        <li class="dropdown" id="viz-picker">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
          <span>Visualization</span>
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
        </ul>
        </li>
      </ul>
	  <div id="menu-plot-documents" class="nav-collapse collapse viz-menu"></div>
      <div id="viz-menus">
        <div id="menu-force-topics" class="nav-collapse collapse viz-menu">
          <ul class="nav">
            <li><a>Node:</a></li>
            <li name='node-type' class="btn-group" data-toggle="buttons-radio">
            <button name='topics' type="button" class="btn btn-primary active">
              Topics
            </button>
            <button name='documents' type="button" class="btn btn-primary">
              Documents
            </button>
            </li>
            <li><a>Compare By:</a></li>
            <li name='metric' class="btn-group" data-toggle="buttons-radio">
            <button name='Documents' type="button" class="btn btn-primary active">
              Documents
            </button>
            <button name='Words' type="button" class="btn btn-primary">
              Words
            </button>
            </li>
          </ul>
          <ul class="nav pull-right">
            <li>
            <button name='unfreeze' type="button" class="btn btn-primary" data-toggle="button">
              Active
            </button>
            </li>
          </ul>
        </div><!--/menu-force-topics .nav-collapse -->
      </div>
    </div>
  </div>
</div>

<div id="loading-indicator"></div>
<div id="main">
  <div id="disable-main"></div>
</div>
<div id="right-bar">
  <div id="disable-right"></div>
  <div id="controls" class="bar-item">
    <div class="topleft-label">Controls</div>
    <div id="controls-chords">
      <label>Link Threshhold</label>
      <div class="threshhold"></div>
    </div>
    <div id="controls-force-topics">
      <label>Link Threshhold</label>
      <div class="threshhold"></div>
    </div>
    <div id="controls-circle-topics">
      <label>Link Threshhold</label>
      <div class="threshhold"></div>
    </div>
    <div id="controls-plot-documents">
      <h3>Plot Controls</h3>
      <div id="plot-document-x-control" class="plot-document-controls"></div>
      <div id="plot-document-y-control" class="plot-document-controls"></div>
      <div id="plot-document-r-control" class="plot-document-controls"></div>
      <div id="plot-document-c-control" class="plot-document-controls"></div>
    </div>
  </div>
  <div id="info" class="bar-item">
    <div class="topleft-label">Info</div>
    <div id="info-chords">
      <h3 class="topic-name">Click a Topic</h3>
      <table class="metrics table-striped">
        <thead>
          <th>Metric</th>
          <th>Value</th>
          <th>Min</th>
          <th>Max</th>
        </thead>
        <tbody>
        </tbody>
      </table>
      <h3>Top Documents</h3>
      <table class="documents table-striped">
        <thead>
          <th>Name</th>
          <th>Count</th>
        </thead>
        <tbody>
        </tbody>
      </table>
      <h3>Top Words</h3>
      <table class="words table-striped">
        <thead>
          <th>Name</th>
          <th>Count</th>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
    <div id="info-force-topics">
      <h3 class="topic-name">Click a Topic</h3>
      <table class="metrics table table-condensed table-striped">
        <thead>
          <th>Metric</th>
          <th>Value</th>
          <th>Min</th>
          <th>Max</th>
        </thead>
        <tbody>
        </tbody>
      </table>
      <h3>Top Documents</h3>
      <table class="documents table table-condensed table-striped">
        <thead>
          <th>Name</th>
          <th>Count</th>
        </thead>
        <tbody>
        </tbody>
      </table>
      <h3>Top Words</h3>
      <table class="words table table-condensed table-striped">
        <thead>
          <th>Name</th>
          <th>Count</th>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
    <div id="info-plot-documents"></div>
  </div> <!-- end of info -->
  <div id="refresh">
    <button name='refresh' type="button" class="btn btn-primary btn-mini">
      Refresh
    </button>
    <time datetime=""></time>
  </div>
</div>
{% endblock %}

{% block endjs %}

<script src="/scripts/libs/d3.v3.min.js"></script>
<script src="/scripts/jquery-ui.js"></script>
<script src="/scripts/libs/d3.layout.cloud.js"></script>
<script>
var URLS = {
  'pairwise topics': {
    'document correlation': '{% url ajax-all-topics-pairwise dataset=dataset_name analysis=analysis_name measure="document correlation" %}',
    'word correlation': '{% url ajax-all-topics-pairwise dataset=dataset_name analysis=analysis_name measure="word correlation" %}',
  },
  'documents': {
    'metrics' : '{% url ajax-all-document-metrics dataset=dataset_name analysis=analysis_name %}',
  }
};
</script>
<script src="/scripts/libs/jquery.timeago.js"></script>
<script src="/scripts/charts/visualization.js"></script>
<script src="/scripts/charts/chords.js"></script>
<script src="/scripts/charts/circle.js"></script>
<script src="/scripts/charts/force.js"></script>
<script src="/scripts/charts/plot.js"></script>
<script src="/scripts/charts/main.js"></script>

{% endblock %}
