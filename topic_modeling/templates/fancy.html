{% extends "bootstrap/bootstrap.html" %}

{% block css %}
<link href="/site-media/styles/fancy.css" rel="stylesheet">
<link href="/site-media/styles/fancy-force.css" rel="stylesheet">
<link href="/site-media/styles/fancy-circle.css" rel="stylesheet">
<link href="/site-media/styles/fancyPlot.css" rel="stylesheet">
<link href="/site-media/styles/jquery-ui.css" rel="stylesheet">
<link href="/site-media/styles/fancy-size.css" rel="stylesheet">
{% endblock %}

{% block headtitle %}Topic Chord Diagrams{% endblock %}
{% block bodytitle %}Topic Chord Diagrams{% endblock %}
{% block nav-title %}Topical Guide{% endblock %}

{% block modals %}
    {{ block.super }}
    <div id="iframe-modal" class="modal hide fade"
        tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal"> &times; </button>
            <h3 id="iframe-label">Details</h3>
        </div>
        <div class="modal-body">
            <iframe class="theframe seamless">
            </iframe>
        </div>
    </div>
{% endblock %}

{% block breadcrumb-container %}
<div class="nav nav-pills">
    <li class="active">
        <a>Visualizations</a>
    </li>
    <li><a href="{{ base_url }}/topics">Browse Topics</a></li>
    <li><a href="{{ base_url }}/documents">Browse Documents</a></li>
    <li><a href="{{ base_url }}/words">Browse Words</a></li>
    <li><a href="{{ base_url }}/metadata">Browse Metadata</a></li>
</div>
{% endblock %}

{% block container %}
<div id="vis-navbar" class="navbar">
  <div class="navbar-inner">
    <div id="disable-nav"></div>
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <ul class="nav">
        <li class="dropdown" id="viz-picker">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
          <span>Visualization</span>
          <b class="caret"></b>
        </a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
        </ul>
        </li>
      </ul>
      <div id="menu-plot-documents" class="nav-collapse collapse viz-menu"></div>
      <div id="menu-topics-over-time" class="nav-collapse collapse viz-menu"></div>
      <div id="viz-menus">
        <div id="menu-force-topics" class="nav-collapse collapse viz-menu">
          <ul class="nav">
            <!--li><a>Node:</a></li>
            <li name='node-type' class="btn-group" data-toggle="buttons-radio">
            <button name='topics' type="button" class="btn btn-primary active">
              Topics
            </button>
            <button name='documents' type="button" class="btn btn-primary">
              Documents
            </button>
            </li-->
            <li><a>Compare By:</a></li>
            <li name='metric' class="btn-group" data-toggle="buttons-radio">
            <button name='Documents' type="button" class="btn btn-primary active">
              Documents
            </button>
            <button name='Words' type="button" class="btn btn-primary">
              Words
            </button>
            </li>
          </ul>
          <ul class="nav pull-right">
            <li>
            <button name='unfreeze' type="button" class="btn btn-primary active" data-toggle="button">
              Active
            </button>
            </li>
          </ul>
        </div><!--/menu-force-topics .nav-collapse -->
      </div>
    </div>
  </div>
</div>
<div id="visualization">
  <!-- controls trigger button -->
  <button class="topleft-label" id="control-trigger" type="button">Controls</button>
  <!-- controls bar html -- populated dynamically by views -->
  <div id="controls" class="bar-item">
  </div> <!-- end of controls -->
  <!-- html for the main view and the info bar -->
  <div id="main-and-info-components" class="vis-full-height">
    <div id="main-and-info-visible" class="vis-full-height">
      <div id="main-and-info-overflow" class="vis-full-height">
        <!-- main view html -->
        <div id="loading-indicator"></div>
        <div id="loading-message">Loading Data</br>This may take a minute</div>
        <div id="main" class="vis-full-height">
          <div id="disable-main">
            <!-- <div id="disable-main-message">Refreshing Data</br>This may take a minute</div> -->
          </div>
        </div><!-- end of main --- comments are weird like this to prevent whitespace from separating elements
     --><!-- info bar html -- populated dynamically by views
     --><div id="info" class="bar-item vis-full-height">
        </div><!-- end of info -->
      </div><!-- end of main-and-info-overflow -->
    </div><!-- end of main-and-info-visible --><!-- 
    <div id="right-bar">
      <div id="disable-right"></div>

      <div id="refresh">
        <button name='refresh' type="button" class="btn btn-primary btn-mini">
          Refresh
        </button>
        <time datetime=""></time>
      </div>
    </div>
    --><!-- info trigger button
    --><button class="topleft-label" id="info-trigger" type="button">Info</button>
  </div> <!-- end of main-and-info-components -->
</div>

{% endblock %}

{% block endjs %}

<script type="text/template" id="iframe-loading">
    <div style="position:absolute;top:50%;left:50%;
                margin-top:-16px;margin-left:-50px;
                text-align:center">
        <img src="/site-media/images/large-spinner.gif"/>
        <h3>loading data</h3>
    </div>
</script>
<script src="/site-media/scripts/libs/d3.v3.min.js"></script>
<script src="/site-media/scripts/libs/d3.layout.cloud.js"></script>
<script src="/site-media/scripts/libs/colorbrewer.js"></script>
<script>
var URLS = {
  'pairwise topics': {
    'document correlation': '{% url "ajax-all-topics-pairwise" dataset=dataset_name analysis=analysis_name measure="document correlation" %}',
    'word correlation': '{% url "ajax-all-topics-pairwise" dataset=dataset_name analysis=analysis_name measure="word correlation" %}',
  },
  'documents': {
    'metrics' : '{% url "ajax-all-document-metrics" dataset=dataset_name analysis=analysis_name %}',
  }
};
</script>
<img style="display:block;visibility:hidden;position: absolute;" src="/site-media/images/large-spinner.gif"/>
<script src="/site-media/scripts/libs/jquery.timeago.js"></script>
<script src="/site-media/scripts/charts/visualization.js"></script>
<script src="/site-media/scripts/charts/chords.js"></script>
<script src="/site-media/scripts/charts/circle.js"></script>
<script src="/site-media/scripts/charts/force.js"></script>
<script src="/site-media/scripts/charts/plot.js"></script>
<script src="/site-media/scripts/charts/topics_over_time.js"></script>
<script src="/site-media/scripts/charts/main.js"></script>

{% endblock %}